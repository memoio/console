"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3816],{95239:function(e,t,o){o.r(t);var n=o(23430),i=o(18489),a=o(50390),r=o(34424),l=o(66946),c=o(86509),s=o(4285),d=o(25594),u=o(72462),p=o(44149),m=o(30324),f=o(51002),g=o(67754),x=o(78626),Z=o(70014),h=o(62559);(0,c.Z)((0,i.Z)((0,i.Z)({},u.ID),u.bK));var b=(0,r.$j)(null,{setModalErrorSnackMessage:p.zb});t.default=(0,s.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({codeMirrorContainer:{marginBottom:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},u.DF),u.ID),u.bK))}))(b((function(e){var t=e.classes,o=e.open,i=e.bucketName,r=e.actualPolicy,c=e.actualDefinition,s=e.closeModalAndRefresh,u=e.setModalErrorSnackMessage,p=(0,a.useState)(!1),b=(0,n.Z)(p,2),v=b[0],C=b[1],j=(0,a.useState)(""),k=(0,n.Z)(j,2),y=k[0],M=k[1],S=(0,a.useState)(""),B=(0,n.Z)(S,2),P=B[0],N=B[1];return(0,a.useEffect)((function(){M(r),N(c?JSON.stringify(JSON.parse(c),null,4):"")}),[M,r,N,c]),(0,h.jsx)(f.Z,{title:"Change Access Policy",modalOpen:o,onClose:function(){s()},titleIcon:(0,h.jsx)(x.QX,{}),children:(0,h.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),v||(C(!0),m.Z.invoke("PUT","/api/v1/buckets/".concat(i,"/set-policy"),{access:y,definition:P}).then((function(e){C(!1),s()})).catch((function(e){C(!1),u(e)})))},children:(0,h.jsxs)(d.ZP,{container:!0,children:[(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:t.modalFormScrollable,children:[(0,h.jsx)(d.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,h.jsx)(g.Z,{value:y,label:"Access Policy",id:"select-access-policy",name:"select-access-policy",onChange:function(e){M(e.target.value)},options:[{value:"PRIVATE",label:"Private"},{value:"PUBLIC",label:"Public"},{value:"CUSTOM",label:"Custom"}]})}),"CUSTOM"===y&&(0,h.jsx)(d.ZP,{item:!0,xs:12,className:t.codeMirrorContainer,children:(0,h.jsx)(Z.Z,{label:"Write Policy",value:P,onBeforeChange:function(e,t,o){N(o)},editorHeight:"350px"})})]}),(0,h.jsxs)(d.ZP,{item:!0,xs:12,className:t.modalButtonBar,children:[(0,h.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){s()},disabled:v,children:"Cancel"}),(0,h.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:v||"CUSTOM"===y&&!P,children:"Set"})]})]})})})})))},70014:function(e,t,o){var n=o(35531),i=o(23430),a=o(18489),r=o(50390),l=o(25594),c=(o(2574),o(20704)),s=o(54880),d=o(21563),u=o(36297),p=o(36554),m=o(94187),f=o(56805),g=o(86509),x=o(4285),Z=o(97538),h=o(72462),b=o(78626),v=o(53224),C=o(33034),j=o.n(C),k=o(53357),y=o(62559),M={json:d.AV,yaml:function(){return s.i.define(u.r)}},S=k.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),B=k.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});t.Z=(0,x.Z)((function(e){return(0,g.Z)((0,a.Z)((0,a.Z)({},h.YI),{},{inputLabel:(0,a.Z)((0,a.Z)({},h.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var t=e.value,o=e.label,a=void 0===o?"":o,s=e.tooltip,d=void 0===s?"":s,u=e.mode,g=void 0===u?"json":u,x=e.classes,h=e.onBeforeChange,C=e.readOnly,k=void 0!==C&&C,P=e.editorHeight,N=void 0===P?"250px":P,I=(0,r.useState)(!1),F=(0,i.Z)(I,2),w=F[0],L=F[1],O=[];return M[g]&&(O=[].concat((0,n.Z)(O),[M[g]()])),(0,y.jsxs)(r.Fragment,{children:[(0,y.jsxs)(p.Z,{className:x.inputLabel,children:[(0,y.jsx)("span",{children:a}),""!==d&&(0,y.jsx)("div",{className:x.tooltipContainer,children:(0,y.jsx)(m.Z,{title:d,placement:"top-start",children:(0,y.jsx)("div",{className:x.tooltip,children:(0,y.jsx)(Z.Z,{})})})})]}),(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)("br",{})}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)(c.ZP,{value:t,theme:w?B:S,extensions:O,editable:!k,basicSetup:!0,height:N,onChange:function(e,t){h(null,null,e)}})}),(0,y.jsx)(l.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:w?"#282c34":"#f7f7f7"},children:(0,y.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,y.jsx)(v.Z,{tooltip:"Change theme",onClick:function(){L(!w)},text:"",icon:(0,y.jsx)(b.EO,{}),color:"primary",variant:"outlined"}),(0,y.jsx)(j(),{text:t,children:(0,y.jsx)(v.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,y.jsx)(b.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},67754:function(e,t,o){var n=o(18489),i=o(50390),a=o(25594),r=o(46413),l=o(36554),c=o(94187),s=o(47554),d=o(43965),u=o(31680),p=o(86509),m=o(4285),f=o(72462),g=o(97538),x=o(62559),Z=(0,m.Z)((function(e){return(0,p.Z)({root:{height:38,lineHeight:1,"label + &":{marginTop:e.spacing(3)}},input:{height:38,position:"relative",color:"#07193E",fontSize:13,fontWeight:600,padding:"8px 20px 10px 10px",border:"#e5e5e5 1px solid",borderRadius:4,display:"flex",alignItems:"center","&:hover":{borderColor:"#393939"},"&:focus":{backgroundColor:"#fff"}}})}))(r.ZP);t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},f.YI),f.Hr),{},{inputLabel:(0,n.Z)((0,n.Z)({},f.YI.inputLabel),{},{"& span":{fontWeight:"normal"}}),fieldContainer:{display:"flex","@media (max-width: 600px)":{flexFlow:"column"}}}))}))((function(e){var t=e.classes,o=e.id,n=e.name,r=e.onChange,p=e.options,m=e.label,f=e.tooltip,h=void 0===f?"":f,b=e.value,v=e.disabled,C=void 0!==v&&v;return(0,x.jsx)(i.Fragment,{children:(0,x.jsxs)(a.ZP,{item:!0,xs:12,className:t.fieldContainer,children:[""!==m&&(0,x.jsxs)(l.Z,{htmlFor:o,className:t.inputLabel,children:[(0,x.jsx)("span",{children:m}),""!==h&&(0,x.jsx)("div",{className:t.tooltipContainer,children:(0,x.jsx)(c.Z,{title:h,placement:"top-start",children:(0,x.jsx)("div",{className:t.tooltip,children:(0,x.jsx)(g.Z,{})})})})]}),(0,x.jsx)(s.Z,{fullWidth:!0,children:(0,x.jsx)(d.Z,{id:o,name:n,value:b,onChange:r,input:(0,x.jsx)(Z,{}),disabled:C,children:p.map((function(e){return(0,x.jsx)(u.Z,{value:e.value,children:e.label},"select-".concat(n,"-").concat(e.label))}))})})]})})}))},51002:function(e,t,o){var n=o(23430),i=o(18489),a=o(50390),r=o(34424),l=o(95467),c=o(97771),s=o(84402),d=o(78426),u=o(93085),p=o(86509),m=o(4285),f=o(72462),g=o(44149),x=o(21278),Z=o(45980),h=o(62559),b=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:g.MK});t.Z=(0,m.Z)((function(e){return(0,p.Z)((0,i.Z)((0,i.Z)({},f.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},f.sN))}))(b((function(e){var t=e.onClose,o=e.modalOpen,r=e.title,p=e.children,m=e.classes,f=e.wideLimit,g=void 0===f||f,b=e.modalSnackMessage,v=e.noContentPadding,C=e.setModalSnackMessage,j=e.titleIcon,k=void 0===j?null:j,y=(0,a.useState)(!1),M=(0,n.Z)(y,2),S=M[0],B=M[1];(0,a.useEffect)((function(){C("")}),[C]),(0,a.useEffect)((function(){if(b){if(""===b.message)return void B(!1);"error"!==b.type&&B(!0)}}),[b]);var P=g?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},N="";return b&&(N=b.detailedErrorMsg,(""===b.detailedErrorMsg||b.detailedErrorMsg.length<5)&&(N=b.message)),(0,h.jsxs)(s.Z,(0,i.Z)((0,i.Z)({open:o,classes:m},P),{},{scroll:"paper",onClose:function(e,o){"backdropClick"!==o&&t()},className:m.root,children:[(0,h.jsxs)(d.Z,{className:m.title,children:[(0,h.jsxs)("div",{className:m.titleText,children:[k," ",r]}),(0,h.jsx)("div",{className:m.closeContainer,children:(0,h.jsx)(l.Z,{"aria-label":"close",className:m.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,h.jsx)(x.Z,{})})})]}),(0,h.jsx)(Z.Z,{isModal:!0}),(0,h.jsx)(c.Z,{open:S,className:m.snackBarModal,onClose:function(){B(!1),C("")},message:N,ContentProps:{className:"".concat(m.snackBar," ").concat(b&&"error"===b.type?m.errorSnackBar:"")},autoHideDuration:b&&"error"===b.type?1e4:5e3}),(0,h.jsx)(u.Z,{className:v?"":m.content,children:p})]}))})))},21278:function(e,t,o){var n=o(64119);t.Z=void 0;var i=n(o(66830)),a=o(62559),r=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=r},4247:function(e,t,o){o.d(t,{V:function(){return i}});var n=o(10594);function i(e){return(0,n.Z)("MuiDivider",e)}var a=(0,o(43349).Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=a},31680:function(e,t,o){o.d(t,{Z:function(){return M}});var n=o(36222),i=o(1048),a=o(32793),r=o(50390),l=o(44977),c=o(50076),s=o(36128),d=o(8208),u=o(15573),p=o(57308),m=o(86875),f=o(40839),g=o(3299),x=o(4247),Z=o(2198),h=o(23586),b=o(10594);function v(e){return(0,b.Z)("MuiMenuItem",e)}var C=(0,o(43349).Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=o(62559),k=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],y=(0,d.ZP)(m.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var o=e.ownerState;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]}})((function(e){var t,o=e.theme,i=e.ownerState;return(0,a.Z)({},o.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat(o.palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:o.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,n.Z)(t,"&.".concat(C.selected),(0,n.Z)({backgroundColor:(0,s.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:(0,s.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)})),(0,n.Z)(t,"&.".concat(C.selected,":hover"),{backgroundColor:(0,s.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,s.Fq)(o.palette.primary.main,o.palette.action.selectedOpacity)}}),(0,n.Z)(t,"&.".concat(C.focusVisible),{backgroundColor:o.palette.action.focus}),(0,n.Z)(t,"&.".concat(C.disabled),{opacity:o.palette.action.disabledOpacity}),(0,n.Z)(t,"& + .".concat(x.Z.root),{marginTop:o.spacing(1),marginBottom:o.spacing(1)}),(0,n.Z)(t,"& + .".concat(x.Z.inset),{marginLeft:52}),(0,n.Z)(t,"& .".concat(h.Z.root),{marginTop:0,marginBottom:0}),(0,n.Z)(t,"& .".concat(h.Z.inset),{paddingLeft:36}),(0,n.Z)(t,"& .".concat(Z.Z.root),{minWidth:36}),t),!i.dense&&(0,n.Z)({},o.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,a.Z)({minHeight:32,paddingTop:4,paddingBottom:4},o.typography.body2,(0,n.Z)({},"& .".concat(Z.Z.root," svg"),{fontSize:"1.25rem"})))})),M=r.forwardRef((function(e,t){var o=(0,u.Z)({props:e,name:"MuiMenuItem"}),n=o.autoFocus,s=void 0!==n&&n,d=o.component,m=void 0===d?"li":d,x=o.dense,Z=void 0!==x&&x,h=o.divider,b=void 0!==h&&h,C=o.disableGutters,M=void 0!==C&&C,S=o.focusVisibleClassName,B=o.role,P=void 0===B?"menuitem":B,N=o.tabIndex,I=(0,i.Z)(o,k),F=r.useContext(p.Z),w={dense:Z||F.dense||!1,disableGutters:M},L=r.useRef(null);(0,f.Z)((function(){s&&L.current&&L.current.focus()}),[s]);var O,R=(0,a.Z)({},o,{dense:w.dense,divider:b,disableGutters:M}),E=function(e){var t=e.disabled,o=e.dense,n=e.divider,i=e.disableGutters,r=e.selected,l=e.classes,s={root:["root",o&&"dense",t&&"disabled",!i&&"gutters",n&&"divider",r&&"selected"]},d=(0,c.Z)(s,v,l);return(0,a.Z)({},l,d)}(o),T=(0,g.Z)(L,t);return o.disabled||(O=void 0!==N?N:-1),(0,j.jsx)(p.Z.Provider,{value:w,children:(0,j.jsx)(y,(0,a.Z)({ref:T,role:P,tabIndex:O,component:m,focusVisibleClassName:(0,l.Z)(E.focusVisible,S)},I,{ownerState:R,classes:E}))})}))}}]);
//# sourceMappingURL=3816.6f269b6f.chunk.js.map
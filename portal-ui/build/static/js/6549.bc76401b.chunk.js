"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6549,2401],{50280:function(e,n,t){var s=t(18489),i=t(50390),l=t(25594),a=t(86509),c=t(4285),o=t(72462),r=t(62559);n.Z=(0,c.Z)((function(e){return(0,a.Z)((0,s.Z)({},o.xx))}))((function(e){var n=e.classes,t=e.label,s=void 0===t?"":t,a=e.content,c=e.multiLine,o=void 0!==c&&c;return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)(l.ZP,{className:n.prefinedContainer,children:[""!==s&&(0,r.jsx)(l.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:s}),(0,r.jsx)(l.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,r.jsx)(l.ZP,{item:!0,xs:12,className:o?n.innerContentMultiline:n.innerContent,children:a})})]})})}))},51002:function(e,n,t){var s=t(23430),i=t(18489),l=t(50390),a=t(34424),c=t(95467),o=t(97771),r=t(84402),d=t(78426),u=t(93085),m=t(86509),f=t(4285),Z=t(72462),x=t(44149),p=t(21278),h=t(45980),g=t(62559),j=(0,a.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK});n.Z=(0,f.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)({},Z.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},Z.sN))}))(j((function(e){var n=e.onClose,t=e.modalOpen,a=e.title,m=e.children,f=e.classes,Z=e.wideLimit,x=void 0===Z||Z,j=e.modalSnackMessage,v=e.noContentPadding,k=e.setModalSnackMessage,b=e.titleIcon,P=void 0===b?null:b,S=(0,l.useState)(!1),y=(0,s.Z)(S,2),M=y[0],N=y[1];(0,l.useEffect)((function(){k("")}),[k]),(0,l.useEffect)((function(){if(j){if(""===j.message)return void N(!1);"error"!==j.type&&N(!0)}}),[j]);var C=x?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},B="";return j&&(B=j.detailedErrorMsg,(""===j.detailedErrorMsg||j.detailedErrorMsg.length<5)&&(B=j.message)),(0,g.jsxs)(r.Z,(0,i.Z)((0,i.Z)({open:t,classes:f},C),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:f.root,children:[(0,g.jsxs)(d.Z,{className:f.title,children:[(0,g.jsxs)("div",{className:f.titleText,children:[P," ",a]}),(0,g.jsx)("div",{className:f.closeContainer,children:(0,g.jsx)(c.Z,{"aria-label":"close",className:f.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,g.jsx)(p.Z,{})})})]}),(0,g.jsx)(h.Z,{isModal:!0}),(0,g.jsx)(o.Z,{open:M,className:f.snackBarModal,onClose:function(){N(!1),k("")},message:B,ContentProps:{className:"".concat(f.snackBar," ").concat(j&&"error"===j.type?f.errorSnackBar:"")},autoHideDuration:j&&"error"===j.type?1e4:5e3}),(0,g.jsx)(u.Z,{className:v?"":f.content,children:m})]}))})))},59176:function(e,n,t){var s=t(35531),i=t(23430),l=t(18489),a=t(50390),c=t(34424),o=t(86509),r=t(4285),d=t(81378),u=t(25594),m=t(25233),f=t(72462),Z=t(44149),x=t(30324),p=t(8174),h=t(23165),g=t(62559),j=(0,c.$j)(null,{setModalErrorSnackMessage:Z.zb});n.Z=(0,r.Z)((function(e){return(0,o.Z)((0,l.Z)((0,l.Z)((0,l.Z)((0,l.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,l.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))(j((function(e){var n=e.classes,t=e.selectedPolicy,l=void 0===t?[]:t,c=e.setSelectedPolicy,o=e.setModalErrorSnackMessage,r=(0,a.useState)([]),f=(0,i.Z)(r,2),Z=f[0],j=f[1],v=(0,a.useState)(!1),k=(0,i.Z)(v,2),b=k[0],P=k[1],S=(0,a.useState)(""),y=(0,i.Z)(S,2),M=y[0],N=y[1],C=(0,a.useCallback)((function(){P(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;P(!1),j(n.sort(m.g4))})).catch((function(e){P(!1),o(e)}))}),[o]);(0,a.useEffect)((function(){P(!0)}),[]),(0,a.useEffect)((function(){b&&C()}),[b,C]);var B=Z.filter((function(e){return e.name.includes(M)}));return(0,g.jsx)(a.Fragment,{children:(0,g.jsxs)(u.ZP,{item:!0,xs:12,children:[b&&(0,g.jsx)(d.Z,{}),Z.length>0?(0,g.jsxs)(a.Fragment,{children:[(0,g.jsxs)(u.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(h.Z,{placeholder:"Filter Policy",onChange:function(e){N(e)},value:M})})]}),(0,g.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(p.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,a=(0,s.Z)(l);i?a.push(t):a=a.filter((function(e){return e!==t})),a=a.filter((function(e){return""!==e})),c(a)},selectedItems:l,isLoading:b,records:B,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},16549:function(e,n,t){t.r(n);var s=t(23430),i=t(18489),l=t(50390),a=t(34424),c=t(38342),o=t.n(c),r=t(86509),d=t(4285),u=t(66946),m=t(81378),f=t(25594),Z=t(72462),x=t(44149),p=t(51002),h=t(30324),g=t(59176),j=t(50280),v=t(62559),k={setModalErrorSnackMessage:x.zb},b=(0,a.$j)(null,k);n.default=(0,d.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},Z.oO),Z.bK),{},{tableBlock:(0,i.Z)((0,i.Z)({},Z.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(b((function(e){var n=e.classes,t=e.closeModalAndRefresh,i=e.selectedUser,a=e.selectedGroup,c=e.setModalErrorSnackMessage,r=e.open,d=(0,l.useState)(!1),Z=(0,s.Z)(d,2),x=Z[0],k=Z[1],b=(0,l.useState)([]),P=(0,s.Z)(b,2),S=P[0],y=P[1],M=(0,l.useState)([]),N=(0,s.Z)(M,2),C=N[0],B=N[1];(0,l.useEffect)((function(){if(r){if(null!==a)return void(a&&h.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(a))).then((function(e){var n=o()(e,"policy","");y(n.split(",")),B(n.split(","))})).catch((function(e){c(e),k(!1)})));var e=o()(i,"policy",[]);y(e),B(e)}}),[r,a,i]);var E=o()(i,"accessKey","");return(0,v.jsxs)(p.Z,{onClose:function(){t()},modalOpen:r,title:"Set Policies",children:[(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(j.Z,{label:"Selected ".concat(null!==a?"Group":"User"),content:null!==a?a:E})}),(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(j.Z,{label:"Current Policy",content:S.join(", ")})}),(0,v.jsx)("div",{className:n.tableBlock,children:(0,v.jsx)(g.Z,{selectedPolicy:C,setSelectedPolicy:B})}),(0,v.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,v.jsx)(u.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){B(S)},children:"Reset"}),(0,v.jsx)(u.Z,{type:"button",variant:"contained",color:"primary",disabled:x,onClick:function(){var e="user",n=null;null!==a?(e="group",n=a):null!==i&&(n=i.accessKey),k(!0),h.Z.invoke("PUT","/api/v1/set-policy",{name:C,entityName:n,entityType:e}).then((function(){k(!1),t()})).catch((function(e){k(!1),c(e)}))},children:"Save"})]}),x&&(0,v.jsx)(f.ZP,{item:!0,xs:12,children:(0,v.jsx)(m.Z,{})})]})})))},21278:function(e,n,t){var s=t(64119);n.Z=void 0;var i=s(t(66830)),l=t(62559),a=(0,i.default)((0,l.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");n.Z=a}}]);
//# sourceMappingURL=6549.bc76401b.chunk.js.map
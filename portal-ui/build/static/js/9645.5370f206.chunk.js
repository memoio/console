"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[9645],{70014:function(e,o,n){var t=n(35531),i=n(23430),a=n(18489),r=n(50390),l=n(25594),c=(n(2574),n(20704)),s=n(54880),d=n(21563),u=n(36297),m=n(36554),p=n(94187),x=n(56805),f=n(86509),h=n(4285),Z=n(97538),g=n(72462),v=n(78626),b=n(53224),j=n(33034),C=n.n(j),k=n(53357),y=n(62559),N={json:d.AV,yaml:function(){return s.i.define(u.r)}},B=k.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),S=k.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});o.Z=(0,h.Z)((function(e){return(0,f.Z)((0,a.Z)((0,a.Z)({},g.YI),{},{inputLabel:(0,a.Z)((0,a.Z)({},g.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var o=e.value,n=e.label,a=void 0===n?"":n,s=e.tooltip,d=void 0===s?"":s,u=e.mode,f=void 0===u?"json":u,h=e.classes,g=e.onBeforeChange,j=e.readOnly,k=void 0!==j&&j,M=e.editorHeight,P=void 0===M?"250px":M,L=(0,r.useState)(!1),F=(0,i.Z)(L,2),I=F[0],E=F[1],w=[];return N[f]&&(w=[].concat((0,t.Z)(w),[N[f]()])),(0,y.jsxs)(r.Fragment,{children:[(0,y.jsxs)(m.Z,{className:h.inputLabel,children:[(0,y.jsx)("span",{children:a}),""!==d&&(0,y.jsx)("div",{className:h.tooltipContainer,children:(0,y.jsx)(p.Z,{title:d,placement:"top-start",children:(0,y.jsx)("div",{className:h.tooltip,children:(0,y.jsx)(Z.Z,{})})})})]}),(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)("br",{})}),(0,y.jsxs)(l.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,y.jsx)(l.ZP,{item:!0,xs:12,children:(0,y.jsx)(c.ZP,{value:o,theme:I?S:B,extensions:w,editable:!k,basicSetup:!0,height:P,onChange:function(e,o){g(null,null,e)}})}),(0,y.jsx)(l.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:I?"#282c34":"#f7f7f7"},children:(0,y.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}}},children:[(0,y.jsx)(b.Z,{tooltip:"Change theme",onClick:function(){E(!I)},text:"",icon:(0,y.jsx)(v.EO,{}),color:"primary",variant:"outlined"}),(0,y.jsx)(C(),{text:o,children:(0,y.jsx)(b.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,y.jsx)(v.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},66964:function(e,o,n){var t=n(18489),i=n(50390),a=n(12066),r=n(25594),l=n(36554),c=n(94187),s=n(95467),d=n(86509),u=n(62449),m=n(4285),p=n(72462),x=n(97538),f=n(44977),h=n(62559),Z=(0,u.Z)((function(e){return(0,d.Z)((0,t.Z)({},p.gM))}));function g(e){var o=Z();return(0,h.jsx)(a.Z,(0,t.Z)({InputProps:{classes:o}},e))}o.Z=(0,m.Z)((function(e){return(0,d.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},p.YI),p.Hr),{},{textBoxContainer:{flexGrow:1,position:"relative"},overlayAction:{position:"absolute",right:5,top:6,"& svg":{maxWidth:15,maxHeight:15},"&.withLabel":{top:5}},inputLabel:(0,t.Z)((0,t.Z)({},p.YI.inputLabel),{},{fontWeight:"normal"})}))}))((function(e){var o=e.label,n=e.onChange,a=e.value,d=e.id,u=e.name,m=e.type,p=void 0===m?"text":m,Z=e.autoComplete,v=void 0===Z?"off":Z,b=e.disabled,j=void 0!==b&&b,C=e.multiline,k=void 0!==C&&C,y=e.tooltip,N=void 0===y?"":y,B=e.index,S=void 0===B?0:B,M=e.error,P=void 0===M?"":M,L=e.required,F=void 0!==L&&L,I=e.placeholder,E=void 0===I?"":I,w=e.min,A=e.max,W=e.overlayId,z=e.overlayIcon,R=void 0===z?null:z,O=e.overlayObject,T=void 0===O?null:O,D=e.extraInputProps,H=void 0===D?{}:D,Y=e.overlayAction,K=e.noLabelMinWidth,G=void 0!==K&&K,J=e.pattern,V=void 0===J?"":J,$=e.autoFocus,_=void 0!==$&&$,q=e.classes,Q=e.className,U=void 0===Q?"":Q,X=e.onKeyPress,ee=(0,t.Z)({"data-index":S},H);return"number"===p&&w&&(ee.min=w),"number"===p&&A&&(ee.max=A),""!==V&&(ee.pattern=V),(0,h.jsx)(i.Fragment,{children:(0,h.jsxs)(r.ZP,{container:!0,className:(0,f.Z)(""!==U?U:"",""!==P?q.errorInField:q.inputBoxContainer),children:[""!==o&&(0,h.jsxs)(l.Z,{htmlFor:d,className:G?q.noMinWidthLabel:q.inputLabel,children:[(0,h.jsxs)("span",{children:[o,F?"*":""]}),""!==N&&(0,h.jsx)("div",{className:q.tooltipContainer,children:(0,h.jsx)(c.Z,{title:N,placement:"top-start",children:(0,h.jsx)("div",{className:q.tooltip,children:(0,h.jsx)(x.Z,{})})})})]}),(0,h.jsxs)("div",{className:q.textBoxContainer,children:[(0,h.jsx)(g,{id:d,name:u,fullWidth:!0,value:a,autoFocus:_,disabled:j,onChange:n,type:p,multiline:k,autoComplete:v,inputProps:ee,error:""!==P,helperText:P,placeholder:E,className:q.inputRebase,onKeyPress:X}),R&&(0,h.jsx)("div",{className:"".concat(q.overlayAction," ").concat(""!==o?"withLabel":""),children:(0,h.jsx)(s.Z,{onClick:Y?function(){Y()}:function(){return null},id:W,size:"small",disableFocusRipple:!1,disableRipple:!1,disableTouchRipple:!1,children:R})}),T&&(0,h.jsx)("div",{className:"".concat(q.overlayAction," ").concat(""!==o?"withLabel":""),children:T})]})]})})}))},51002:function(e,o,n){var t=n(23430),i=n(18489),a=n(50390),r=n(34424),l=n(95467),c=n(97771),s=n(84402),d=n(78426),u=n(93085),m=n(86509),p=n(4285),x=n(72462),f=n(44149),h=n(21278),Z=n(45980),g=n(62559),v=(0,r.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:f.MK});o.Z=(0,p.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)({},x.Qw),{},{root:{"& .MuiPaper-root":{padding:"0 2rem 2rem 1rem"}},content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(v((function(e){var o=e.onClose,n=e.modalOpen,r=e.title,m=e.children,p=e.classes,x=e.wideLimit,f=void 0===x||x,v=e.modalSnackMessage,b=e.noContentPadding,j=e.setModalSnackMessage,C=e.titleIcon,k=void 0===C?null:C,y=(0,a.useState)(!1),N=(0,t.Z)(y,2),B=N[0],S=N[1];(0,a.useEffect)((function(){j("")}),[j]),(0,a.useEffect)((function(){if(v){if(""===v.message)return void S(!1);"error"!==v.type&&S(!0)}}),[v]);var M=f?{classes:{paper:p.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return v&&(P=v.detailedErrorMsg,(""===v.detailedErrorMsg||v.detailedErrorMsg.length<5)&&(P=v.message)),(0,g.jsxs)(s.Z,(0,i.Z)((0,i.Z)({open:n,classes:p},M),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&o()},className:p.root,children:[(0,g.jsxs)(d.Z,{className:p.title,children:[(0,g.jsxs)("div",{className:p.titleText,children:[k," ",r]}),(0,g.jsx)("div",{className:p.closeContainer,children:(0,g.jsx)(l.Z,{"aria-label":"close",className:p.closeButton,onClick:o,disableRipple:!0,size:"small",children:(0,g.jsx)(h.Z,{})})})]}),(0,g.jsx)(Z.Z,{isModal:!0}),(0,g.jsx)(c.Z,{open:B,className:p.snackBarModal,onClose:function(){S(!1),j("")},message:P,ContentProps:{className:"".concat(p.snackBar," ").concat(v&&"error"===v.type?p.errorSnackBar:"")},autoHideDuration:v&&"error"===v.type?1e4:5e3}),(0,g.jsx)(u.Z,{className:b?"":p.content,children:m})]}))})))},88881:function(e,o,n){n.r(o);var t=n(23430),i=n(18489),a=n(50390),r=n(34424),l=n(25594),c=n(66946),s=n(81378),d=n(86509),u=n(4285),m=n(30324),p=n(44149),x=n(72462),f=n(51002),h=n(66964),Z=n(70014),g=n(62559),v={setModalErrorSnackMessage:p.zb},b=(0,r.$j)(null,v);o.default=(0,u.Z)((function(e){return(0,d.Z)((0,i.Z)((0,i.Z)((0,i.Z)({buttonContainer:{textAlign:"right"},codeMirrorContainer:{marginBottom:20,marginTop:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},x.bK),x.ID),x.YI))}))(b((function(e){var o=e.classes,n=e.open,i=e.closeModalAndRefresh,r=e.policyEdit,d=e.setModalErrorSnackMessage,u=(0,a.useState)(!1),p=(0,t.Z)(u,2),x=p[0],v=p[1],b=(0,a.useState)(""),j=(0,t.Z)(b,2),C=j[0],k=j[1],y=(0,a.useState)(""),N=(0,t.Z)(y,2),B=N[0],S=N[1];(0,a.useEffect)((function(){r&&(k(r.name),S(r?JSON.stringify(JSON.parse(r.policy),null,4):""))}),[r]);var M=""!==C.trim();return(0,g.jsx)(f.Z,{modalOpen:n,onClose:function(){i(!1)},title:"".concat(r?"Info":"Create"," Policy"),children:(0,g.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),x||(v(!0),m.Z.invoke("POST","/api/v1/policies",{name:C,policy:B}).then((function(e){v(!1),i(!0)})).catch((function(e){v(!1),d(e)})))},children:(0,g.jsxs)(l.ZP,{container:!0,children:[(0,g.jsxs)(l.ZP,{item:!0,xs:12,className:o.modalFormScrollable,children:[(0,g.jsx)(l.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,g.jsx)(h.Z,{id:"policy-name",name:"policy-name",label:"Policy Name",placeholder:"Enter Policy Name",autoFocus:!0,onChange:function(e){k(e.target.value)},value:C,disabled:!!r})}),(0,g.jsx)(l.ZP,{item:!0,xs:12,className:o.codeMirrorContainer,children:(0,g.jsx)(Z.Z,{label:"".concat(r?"Edit":"Write"," Policy"),value:B,onBeforeChange:function(e,o,n){S(n)},editorHeight:"350px"})})]}),(0,g.jsxs)(l.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[!r&&(0,g.jsx)(c.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){k(""),S("")},children:"Clear"}),(0,g.jsx)(c.Z,{type:"submit",variant:"contained",color:"primary",disabled:x||!M,children:"Save"})]}),x&&(0,g.jsx)(l.ZP,{item:!0,xs:12,children:(0,g.jsx)(s.Z,{})})]})})})})))},21278:function(e,o,n){var t=n(64119);o.Z=void 0;var i=t(n(66830)),a=n(62559),r=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");o.Z=r}}]);
//# sourceMappingURL=9645.5370f206.chunk.js.map